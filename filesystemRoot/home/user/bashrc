#!/bin/bash
# Minimal .bashrc with zero advanced logging or overrides

# 1) Only run if interactive
case $- in
    *i*) ;;
    *) return ;;
esac

# 2) Provide real ESC as a variable
ESC="$(printf '\033')"

# 3) Simple function to show a Git branch (optional). No fancy logging
git_prompt_info() {
    git rev-parse --is-inside-work-tree &>/dev/null || return
    local hash
    hash=$(git rev-parse --short HEAD 2>/dev/null)
    local branch
    branch=$(git symbolic-ref --short HEAD 2>/dev/null)

    echo -n "($hash:$branch)"
}

# 4) Colorful prompt using $ESC for escapes
PS1="\[${ESC}[1;32m\]\u@\h\[${ESC}[0m\] \[${ESC}[1;33m\]\$(git_prompt_info)\[${ESC}[0m\] \[${ESC}[1;34m\]\w\[${ESC}[0m\]\n\$ "

# 5) Minimal aliases
alias l='ls -la'
alias c='clear'

# 6) If this is xterm, set an invisible window title
case "$TERM" in
    xterm*|rxvt*)
        PS1="\[${ESC}]0;\u@\h: \w${ESC}[0m\]$PS1"
        ;;
esac

# End of minimal .bashrc
